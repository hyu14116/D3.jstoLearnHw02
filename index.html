<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>HW2</title>
    <script src="https://d3js.org/d3.v3.js"></script>
    <style>
        p {
            border: 2px solid red;
            height: 25px;
            width: 50px;
            text-align: center;
            line-height: 25px;
        }
    </style>
</head>

<body>
<!--   1-->
    <p></p>
    <input type="button" onclick="lauch()" value="啟動">
<!--   2-->
    <hr>
    <input type="text" class="number">
    <input type="button" onclick="lauch_square()" value="平方">
<!--   3-->
    <hr>
    <svg id="svg1" width="300" height="200">
        <rect x="160" y="45" width="5" height="78"></rect>
        <circle cx="150" cy="120" r="15"></circle>
    </svg>
    <svg id="svg2" width="300" height="200"></svg>
<!--   4--> 
    <hr>
    <svg id="svg3" width="400" height="400"></svg>
    <script>
        /////練習區
        //    d3.select("body").append("div");
        //    d3.select("div").text("d3.js");
        //    d3.select("body>div").text("JavaScript");
        //    d3.select("body").append("h1").text("Hello D3!");
        /////1
        function lauch() {
            var num = random(1911, 2016);
            console.log(num);

            d3.select("p").text(num);
        };

        function random(N, M) {
            return Math.ceil(Math.random() * (M - N) + N);
        };
        //////2
        function lauch_square() {
            var num = d3.select(".number").property("value");
            d3.select(".number").property("value", num*num);
            console.log(num);
        };
        /////3
        d3.select("#svg2").append("circle").attr({
            cx: 150,
            cy: 120,
            r: 15
        });
        d3.select("#svg2").append("rect").attr({
            x: 160,
            y: 45,
            width: 5,
            height: 78
        });
        d3.select("#svg2").append("line").attr({
            x1: 0,
            y1: 45,
            x2: 400,
            y2: 45,
            stroke: "black",
            "stroke-width": 2
        });
        d3.select("#svg2").append("line").attr({
            x1: 0,
            y1: 75,
            x2: 400,
            y2: 75,
            stroke: "black",
            "stroke-width": 2
        });
        d3.select("#svg2").append("line").attr({
            x1: 0,
            y1: 105,
            x2: 400,
            y2: 105,
            stroke: "black",
            "stroke-width": 2
        });
        d3.select("#svg2").append("line").attr({
            x1: 0,
            y1: 135,
            x2: 400,
            y2: 135,
            stroke: "black",
            "stroke-width": 2
        });
        d3.select("#svg2").append("line").attr({
            x1: 0,
            y1: 165,
            x2: 400,
            y2: 165,
            stroke: "black",
            "stroke-width": 2
        });
        //////4
        for (var i = 0; i < 20; i++) {
            var tmp = random(20, 300);
            d3.select("#svg3").append("rect").attr({
                x: 10,
                y: 10 + 12 * i,
                width: tmp,
                height: 10,
                fill: "red"
            });

            d3.select("#svg3").append("text").attr({
                x: tmp + 15,
                y: 20 + 12 * i,
                fill: "black",
                "font-size": 12
            }).text(tmp);
        };
    </script>
</body>

</html>